<html>
<head>
    <link rel="stylesheet" href="static/style.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin=""></script>
    <!-- sourcing add-ons for jquery-->
    <!-- <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script> -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css">
    <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster-src.js"></script>
    <script src="../static/leaflet-ant-path.js"></script>
    
</head>
<body>
    <form method="post" action="." id ="filters">
        <label>Event Scale Minimum</label>
        <input name="scaleMin">
        
        <p>
            <label for="amount"> Test:</label>
            <input type="text" id="amount" readonly style="border:0; color:#f6931f; font-weight:bold;">
        </p>
        <div id ='slider'></div>

        <label>Commodity</label>
        <input name="commodity">

        <label>Value</label>
        <input name="value">
        <input type="submit" value="Update Filters" id="button">
    </form>
    <div id="map"></div>

    <script>
        var map = L.map('map').setView([{{lat}}, {{lon}}], 4);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'}).addTo(map);
        map.options.minZoom = 3;
        var southWest = L.latLng(-89.98155760646617, -220),
        northEast = L.latLng(89.99346179538875, 220);
        var bounds = L.latLngBounds(southWest, northEast);
        map.setMaxBounds(bounds);
        map.on('drag', function() {
            map.panInsideBounds(bounds, { animate: false });
        });
        var markers = L.markerClusterGroup();
        {{markers|safe}}
        map.addLayer(markers);
        var paths = L.layerGroup()
        {{paths|safe}}
        map.addLayer(paths);
        var route = [[53.64660078193992, -0.1817147915555414], [53.70471667, 0.39536667], [53.70538333, 0.3951], [53.9418, 0.36528333], [53.94291667, 0.36531667], [54.1952, 0.36705], [54.19576667, 0.36705], [54.4473, 0.36731667], [54.44813333, 0.3673], [54.69431667, 0.36811667], [54.69486667, 0.3681], [54.82836667, 0.36598333], [58.53673333, -0.95253333], [58.57231667, -0.99435], [58.5793, -1.00258333], [58.77135, -1.17826667], [58.79195, -1.19556667], [58.91848333, -1.30456667], [59.02011667, -1.39645], [59.1562, -1.5133], [59.2056, -1.55908333], [59.37615, -1.71233333], [59.40781667, -1.7469], [59.4802, -1.8929], [59.5375, -2.02343333], [59.6052, -2.17705], [59.65805, -2.33268333], [59.66681667, -2.4744], [59.66656667, -2.76141667], [59.66755, -2.89188333], [59.6664, -3.2301], [59.66811667, -3.5463], [59.66851667, -3.55721667], [59.66503333, -4.00298333], [59.6651, -4.0117], [59.6657, -4.46465], [59.66568333, -4.47286667], [59.66751667, -4.91153333], [59.6676, -4.92198333], [59.59966667, -5.22411667], [58.8126, -7.9285], [58.78388333, -8.02616667], [58.61776667, -8.59345], [58.61491667, -8.60271667], [58.41746667, -9.24738333], [58.41575, -9.25335], [58.23383333, -9.84945], [58.21625, -9.9101], [57.47396667, -12.33416667], [57.4728, -12.33816667], [57.35813333, -12.72863333], [57.29343333, -12.9406], [57.1349, -13.48315], [57.08561667, -13.64506667], [56.43721667, -15.70856667], [56.43186667, -15.72548333], [56.35505, -15.96548333], [56.3136, -16.09501667], [56.24428333, -16.31011667], [56.2037, -16.42775], [56.12481667, -16.68703333], [56.09158333, -16.79361667], [56.02005, -17.01416667], [55.99966667, -17.08015], [55.6452, -18.19073333], [55.64196667, -18.20135], [55.47776667, -18.71065], [55.47598333, -18.71585], [55.20351667, -19.54891667], [55.17835, -19.62921667], [55.14593333, -19.73476667], [55.08873333, -19.90693333], [55.02896667, -20.0753], [54.96416667, -20.24793333], [54.92161667, -20.36345], [54.83403333, -20.61398333], [54.80415, -20.7201], [54.7377, -20.95775], [54.71416667, -21.03541667], [54.63721667, -21.26118333], [54.6226, -21.30128333], [54.53783333, -21.56958333], [54.46373333, -21.8085], [54.46185, -21.81473333], [54.4112, -21.97455], [54.40828333, -21.98341667], [54.29035, -22.32201667], [54.2425, -22.46138333], [54.19846667, -22.5928], [54.1608, -22.70465], [54.02235, -23.12901667], [53.93408333, -23.3935], [53.88376667, -23.54178333], [53.83291667, -23.69023333], [53.69595, -24.088], [53.63116667, -24.28715], [53.61851667, -24.32585], [53.52151667, -24.60511667], [53.24331667, -25.42976667], [53.23595, -25.454], [52.91418333, -26.3917], [52.85813333, -26.54536667], [52.80415, -26.70746667], [52.69613333, -27.01856667], [52.69446667, -27.02306667], [52.61195, -27.2569], [52.56926667, -27.38201667], [52.50693333, -27.56505], [52.45173333, -27.7291], [52.39695, -27.88086667], [52.36165, -27.97855], [52.32221667, -28.08958333], [52.28415, -28.19798333], [52.20453333, -28.43223333], [52.19788333, -28.4514], [52.11111667, -28.69648333], [52.07788333, -28.79246667], [52.02531667, -28.94453333], [51.84201667, -29.4524], [51.82986667, -29.4888], [51.7774, -29.64021667], [51.70861667, -29.84378333], [51.5382, -30.31371667], [51.48038333, -30.4864], [51.44433333, -30.58886667], [51.3615, -30.81301667], [51.33396667, -30.89468333], [51.26383333, -31.11103333], [51.2532, -31.14326667], [51.18706667, -31.32388333], [51.15835, -31.39916667], [51.07993333, -31.6072], [51.04276667, -31.70816667], [50.97168333, -31.9021], [50.81403333, -32.3333], [50.77543333, -32.4432], [50.47001667, -33.28688333], [50.45236667, -33.33831667], [50.36195, -33.58788333], [50.34931667, -33.62256667], [50.28183333, -33.80946667], [50.21051667, -34.00613333], [50.18011667, -34.08896667], [50.11236667, -34.27448333], [50.09076667, -34.33336667], [50.0015, -34.56291667], [49.9893, -34.59461667], [49.91241667, -34.80918333], [49.87508333, -34.91138333], [49.80065, -35.10901667], [49.77435, -35.18671667], [49.687, -35.43123333], [49.6717, -35.47551667], [49.59028333, -35.71571667], [49.58361667, -35.7358], [49.47945, -36.00945], [49.45886667, -36.06226667], [49.38215, -36.26543333], [49.34078333, -36.37565], [49.27505, -36.55243333], [49.04138333, -37.15905], [48.94108333, -37.43103333], [48.92985, -37.46156667], [48.83605, -37.70596667], [48.82415, -37.73625], [48.7369, -37.98283333], [48.72361667, -38.01951667], [48.63735, -38.2493], [48.60768333, -38.3288], [48.51588333, -38.57356667], [48.50513333, -38.60211667], [48.48848333, -38.64453333], [48.32676667, -39.08286667], [48.30178333, -39.14518333], [48.29471667, -39.16238333], [48.28101667, -39.19588333], [48.15276667, -39.52033333], [48.1109, -39.62778333], [47.97431667, -39.98391667], [47.92375, -40.11835], [47.88181667, -40.23228333], [47.81728333, -40.39755], [47.8075, -40.42193333], [47.7214, -40.64933333], [47.61763333, -40.91423333], [47.5604, -41.0556], [47.50593333, -41.20545], [47.4579, -41.3409], [47.44061667, -41.38955], [47.34278333, -41.63156667], [47.33206667, -41.65606667], [47.2451, -41.86], [47.19818333, -41.97815], [47.14573333, -42.1136], [47.10846667, -42.2276], [47.02221667, -42.46353333], [47.01578333, -42.48153333], [46.91881667, -42.72326667], [46.9043, -42.75925], [46.80613333, -43.01188333], [46.75078333, -43.15605], [46.71776667, -43.23303333], [46.58463333, -43.56538333], [46.50395, -43.77153333], [46.42646667, -43.97805], [46.40291667, -44.03643333], [46.34313333, -44.18503333], [46.30045, -44.2945], [46.27181667, -44.36641667], [46.20116667, -44.54883333], [46.16806667, -44.63041667], [46.11395, -44.75651667], [46.03436667, -44.95645], [45.97983333, -45.09658333], [45.81168333, -45.52806667], [45.79975, -45.55906667], [45.64753333, -45.95111667], [45.54981667, -46.17451667], [45.51608333, -46.25433333], [45.43843333, -46.45586667], [45.42856667, -46.48121667], [45.38558333, -46.58723333], [45.32143333, -46.73911667], [45.22376667, -46.98863333], [45.20966667, -47.02303333], [45.12016667, -47.2498], [45.11878333, -47.25326667], [45.02776667, -47.48076667], [44.99186667, -47.5709], [44.92816667, -47.72911667], [44.91186667, -47.76841667], [44.8343, -47.95113333], [44.8026, -48.02803333], [44.6959, -48.2767], [44.68565, -48.29866667], [44.585, -48.5457], [44.5586, -48.61461667], [44.50886667, -48.7395], [44.47138333, -48.82888333], [44.39868333, -49.03496667], [44.37106667, -49.09676667], [44.2797, -49.32056667], [44.2435, -49.40961667], [44.1748, -49.57586667], [44.03246667, -49.91913333], [43.94013333, -50.15365], [43.91345, -50.22388333], [43.83205, -50.44753333], [43.79855, -50.5352], [43.74415, -50.67643333], [43.71846667, -50.74498333], [43.61956667, -51.00808333], [43.61865, -51.01056667], [43.51521667, -51.2817], [43.29936667, -51.65671667], [43.29313333, -51.67745], [43.16596667, -52.10366667], [43.16398333, -52.1096], [43.06181667, -52.4407], [43.03941667, -52.50571667], [42.98835, -52.6419], [42.90221667, -52.87243333], [42.85456667, -52.99761667], [42.80701667, -53.12183333], [42.76675, -53.22398333], [42.71083333, -53.37483333], [42.66623333, -53.49003333], [42.57085, -53.73636667], [42.56593333, -53.74958333], [42.46435, -54.00906667], [42.45375, -54.03581667], [42.37641667, -54.23343333], [42.31343333, -54.30195], [42.2029, -54.32893333], [42.1299, -54.34156667], [42.11018333, -54.53813333], [42.12448333, -54.57118333], [42.16373333, -54.74698333], [42.12961667, -54.83085], [42.05058333, -55.03673333], [42.03055, -55.08693333], [41.96398333, -55.25295], [41.94153333, -55.3125], [41.85818333, -55.51981667], [41.82371667, -55.61181667], [41.75113333, -55.80771667], [41.64355, -56.09763333], [41.55673333, -56.31018333], [41.45356667, -56.5898], [41.3737, -56.80311667], [41.35128333, -56.8628], [41.31366667, -56.95731667], [41.2644, -57.08255], [41.1743, -57.2701], [41.07401667, -57.41315], [41.0708, -57.4192], [41.00441667, -57.58393333], [41.00096667, -57.59333333], [40.9365, -57.77965], [40.90055, -57.87578333], [40.76625, -58.21368333], [40.69615, -58.3945], [40.64621667, -58.52915], [40.5745, -58.74588333], [40.54946667, -58.83068333], [40.49831667, -59.01348333], [40.49003333, -59.04483333], [40.4153, -59.32346667], [40.39976667, -59.38228333], [40.34486667, -59.60218333], [40.3375, -59.62825], [40.27865, -59.86236667], [40.26135, -59.93008333], [40.20058333, -60.15493333], [40.1877, -60.20746667], [40.25168333, -60.28906667], [40.20306667, -60.3016], [40.06573333, -60.29478333], [40.03645, -60.31995], [39.9686, -60.5664], [39.96736667, -60.57045], [39.91045, -60.76928333], [39.90768333, -60.78958333], [39.88903333, -60.9235], [39.87995, -60.99596667], [39.87108333, -61.06826667], [39.85095, -61.25691667], [39.84161667, -61.38183333], [39.80201667, -61.65291667], [39.80093333, -61.65843333], [39.79073333, -61.71381667], [39.73798333, -61.94315], [39.69868333, -62.1099], [39.6751, -62.20103333], [39.63756667, -62.32408333], [39.60688333, -62.43791667], [39.57021667, -62.6037], [39.55051667, -62.68486667], [39.53926667, -62.72665], [39.48603333, -62.92365], [39.46086667, -63.02131667], [39.45545, -63.04333333], [39.38755, -63.3018], [39.35938333, -63.42151667], [39.28901667, -63.6991], [39.28876667, -63.70003333], [39.28788333, -63.70286667], [39.21876667, -63.92156667], [39.19696667, -64.00135], [39.15888333, -64.13958333], [39.00553333, -64.7128], [38.94925, -64.94661667], [38.93438333, -65.00711667], [38.87983333, -65.21631667], [38.84981667, -65.33098333], [38.8059, -65.50258333], [38.78685, -65.57611667], [38.75805, -65.6866], [38.72995, -65.79376667], [38.66451667, -66.03888333], [38.66118333, -66.05186667], [38.59971667, -66.28136667], [38.56535, -66.4038], [38.52668333, -66.54213333], [38.42903333, -66.92305], [38.39398333, -67.0569], [38.36828333, -67.1546], [38.32775, -67.31673333], [38.19961667, -67.81575], [38.1654, -67.94818333], [38.15056667, -67.99983333], [38.1285, -68.07328333], [38.09955, -68.17603333], [38.06758333, -68.29415], [38.05275, -68.3453], [38.04223333, -68.38255], [37.99593333, -68.56923333], [37.972, -68.65785], [37.85025, -69.06311667], [37.84755, -69.07143333], [37.77253333, -69.34456667], [37.709, -69.59023333], [37.66291667, -69.77418333], [37.58303333, -70.06115], [37.55481667, -70.18226667], [37.49655, -70.42476667], [37.49525, -70.43031667], [37.4309, -70.67871667], [37.42978333, -70.68283333], [37.41898333, -70.72368333], [37.36981667, -70.90641667], [37.3509, -70.97116667], [37.30483333, -71.16675], [37.30075, -71.22541667], [37.2862, -71.42286667], [37.28008333, -71.48681667], [37.26693333, -71.60455], [37.25333333, -71.84683333], [37.25168333, -71.88235], [37.24766667, -71.96348333], [37.24495, -72.0345], [37.23413333, -72.18318333], [37.22461667, -72.34833333], [37.22331667, -72.37316667], [37.23253333, -72.39715], [37.17938333, -72.90606667], [37.1746, -72.9547], [37.09195, -74.0323], [37.063, -74.45591667], [37.06095, -74.4797], [37.05856667, -74.50691667], [37.05485, -74.54853333], [36.98856667, -74.93608333], [36.9807, -74.97226667], [36.88036667, -75.36831667], [36.85955, -75.45261667], [36.82556667, -75.70428333], [36.87033333, -75.84785], [36.87185, -75.85126667], [36.98723333, -76.00728333], [36.98756667, -76.00768333], [37.16906667, -76.15206667], [37.2949, -76.11166667], [37.38143333, -76.07626667], [37.43028333, -76.0867], [37.6234, -76.1034], [37.62461667, -76.10465], [37.84286667, -76.17288333], [37.84313333, -76.17285], [38.07425, -76.21631667], [38.07586667, -76.21656667], [38.22251667, -76.25178333], [38.36888333, -76.32866667], [38.1059, -76.22166667], [38.57275, -76.43408333], [38.7618, -76.42721667], [38.946492665600005, -76.39716266639998], [39.02705, -76.3786], [39.18276667, -76.4501], [39.220185, -76.52112625518058]]
        const path = L.polyline.antPath(route);
        map.addLayer(path);
    </script>
</body>
</html>